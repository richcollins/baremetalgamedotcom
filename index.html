<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="UTF-8">
    <title>Bare Metal</title>
    <meta property="og:image" content="http://www.baremetalgame.com/baremetalgame.png" />
    <meta property="og:title" content="Bare Metal: Simple, Networked RTS with 80s Arcade Style" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://www.baremetalgame.com/" />
    <style>
        body {
          font-size: 1.9rem;
          line-height: 2.6rem;
          margin: 0;
          background: #000;
          font-family: MetalFont, sans-serif;
          font-weight: 100; 
          color: #000;
          text-transform: uppercase;
       }

        @font-face {
            font-family: "MetalFont";
            src: url(PrintChar21.ttf) format("truetype");
        }

        #header { 
            padding-top: 1.5rem;
            padding-left: 2rem;
            text-align: left;
            margin: 0rem;
        }
        
        #subtitle {
            padding-bottom: 8px;
        }

        a {
            color: #000;
            text-decoration: none;
            text-shadow: 0px 0px 16px rgba(0, 0, 0, 1);
        }

        .button:hover {
            opacity: 0.8;
       }
        
        video {
            display: block;
            position: absolute;
            top: 110px;
            left: 0px;
            right: 0px;
            bottom: 0px;
            z-index: -100;
            opacity: 0;   
            transition: 4.5s ease opacity;  
        }

        @media screen and (min-device-width: 1000px) { 
            #header { 
                font-size: .9rem;
                line-height: 1.3rem;
           } 
        }
        
        .character {
            transition: 1s ease-out all;  
        }

        @keyframes glowIn {
          0% {
               opacity: 1;
               color: rgba(255, 255, 255, 1);
               background-color: rgba(255, 255, 255, 1);
               text-shadow: 0px 0px 10px rgba(255, 255, 255, 1);
          }
          
          10% {
               opacity: 1;
               color: rgba(255, 255, 255, 1);
               background-color: rgba(0,0,0, 1);
               text-shadow: 0px 0px 10px rgba(255, 255, 255, 1);
          }

          100% {
              opacity: 1;
              color: rgba(88, 220, 88, 1);
              text-shadow: 0px 0px 2px rgba(88, 220, 88, 1);
          }           
        }
        
    </style>
  </head>
  <body>
          
    <div id="header" style="text-align: left;">
        <div id="title">Bare Metal</div>
        <div id="subtitle">networked tug-of-war game</div>

        <a id="button1" class="button" href="BareMetalPC.zip">PC  </a>
        <a id="button2" class="button" href="BareMetalMac.zip">Mac  </a>
        <a id="button3" class="button" href="http://twitter.com/baremetalgame">twitter  </a>
        <a id="button4" class="button" href="https://discordapp.com/invite/qAjsB8K">discuss</a>
        <br><br>
        <video id='video' width="100%" height="100%" autoplay  loop>
            <source id="video_source" src='./bare.mp4'>
        </video>
    </div> <!-- end header -->
    
    <script>
         
        var video = document.getElementById("video"); 
        var title = document.getElementById("title");
        var subtitle = document.getElementById("subtitle");
        var button1 = document.getElementById("button1");
        var button2 = document.getElementById("button2");
        var button3 = document.getElementById("button3");
        var button4 = document.getElementById("button4");
        var video_source = document.getElementById("video_source");
        
        if (/Android/i.test(navigator.userAgent)) {
            video.setAttribute('poster','poster.jpg');
        }

        window.onload =  function(event) {
            console.log("ready")
            video.pause()
            animate()
        }

        video.addEventListener('click',function(){
          video.play();
        }, false);
        
        var globalDelay = 0
        
        function Element_typeIt() {
            this.style.opacity = 1
            
            var text = this.innerHTML
            var s = ""
            var localDelay = 0
            for (var i = 0; i < text.length; i++) {
               var c = text.substring(i, i+1)
               if (c == " ") {
                   c = "&nbsp;"
               }
               s += "<span class='character' style='color: transparent; opacity: 0; animation-fill-mode: forwards; animation-name: glowIn; animation-duration: 400ms; animation-delay: " + globalDelay + "ms;'>" + c + "</span>"
               var dt = 18
               globalDelay += dt;
               localDelay += dt
            }
                        
            this.innerHTML = s
            return this
        }
        
        function TypeIt(element) {
            element.typeIt = Element_typeIt
            element.typeIt() 
            return this          
        }

        function animate() {
            TypeIt(title)
            TypeIt(subtitle)
            TypeIt(button1)
            TypeIt(button2)
            TypeIt(button3)
            TypeIt(button4)
            setTimeout(function () { Video_show() }, globalDelay - 500);
        }

        function Video_show() {
             //video_source.setAttribute('src','./bare.mp4');
            //video_source.src = './bare.mp4'
            video.style.opacity = 1;
            video.play()
        }
        
    </script>    
  </body>
</html>
